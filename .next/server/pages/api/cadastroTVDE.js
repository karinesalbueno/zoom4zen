"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/cadastroTVDE";
exports.ids = ["pages/api/cadastroTVDE"];
exports.modules = {

/***/ "mysql2":
/*!*************************!*\
  !*** external "mysql2" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("mysql2");

/***/ }),

/***/ "(api)/./db.js":
/*!***************!*\
  !*** ./db.js ***!
  \***************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst mysql = __webpack_require__(/*! mysql2 */ \"mysql2\");\n// Configuração da conexão\nconst pool = mysql.createPool({\n    host: \"localhost\",\n    user: \"root\",\n    password: \"0000\",\n    database: \"zoom4zen\"\n});\nmodule.exports = pool.promise();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9kYi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQU1BLEtBQUssR0FBR0MsbUJBQU8sQ0FBQyxzQkFBUSxDQUFDO0FBRS9CLDBCQUEwQjtBQUMxQixNQUFNQyxJQUFJLEdBQUdGLEtBQUssQ0FBQ0csVUFBVSxDQUFDO0lBQzVCQyxJQUFJLEVBQUUsV0FBVztJQUNqQkMsSUFBSSxFQUFFLE1BQU07SUFDWkMsUUFBUSxFQUFFLE1BQU07SUFDaEJDLFFBQVEsRUFBRSxVQUFVO0NBQ3JCLENBQUM7QUFFRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUdQLElBQUksQ0FBQ1EsT0FBTyxFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b29tNHplbi8uL2RiLmpzPzU2NjUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbXlzcWwgPSByZXF1aXJlKCdteXNxbDInKTtcclxuXHJcbi8vIENvbmZpZ3VyYcOnw6NvIGRhIGNvbmV4w6NvXHJcbmNvbnN0IHBvb2wgPSBteXNxbC5jcmVhdGVQb29sKHtcclxuICBob3N0OiAnbG9jYWxob3N0JywgXHJcbiAgdXNlcjogJ3Jvb3QnLCBcclxuICBwYXNzd29yZDogJzAwMDAnLCBcclxuICBkYXRhYmFzZTogJ3pvb200emVuJywgXHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBwb29sLnByb21pc2UoKTtcclxuIl0sIm5hbWVzIjpbIm15c3FsIiwicmVxdWlyZSIsInBvb2wiLCJjcmVhdGVQb29sIiwiaG9zdCIsInVzZXIiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb21pc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./db.js\n");

/***/ }),

/***/ "(api)/./pages/api/cadastroTVDE.js":
/*!***********************************!*\
  !*** ./pages/api/cadastroTVDE.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nconst db = __webpack_require__(/*! ../../db */ \"(api)/./db.js\");\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const { nome , telefone , email , endereco , possui_carro  } = req.body;\n        if (!nome || !telefone || !email || !endereco || possui_carro === undefined) {\n            return res.status(400).json({\n                error: \"Todos os campos s\\xe3o obrigat\\xf3rios.\"\n            });\n        }\n        try {\n            const telefoneLimpo = telefone.trim();\n            // Verificando se o telefone já existe\n            const [telefoneExistente] = await db.query(\"SELECT * FROM clientes WHERE TRIM(telefone) = ?\", [\n                telefoneLimpo\n            ]);\n            console.log(\"Telefone no banco de dados:\", telefoneExistente); // Verificar valor\n            if (telefoneExistente && telefoneExistente.length > 0) {\n                console.log(\"Telefone j\\xe1 cadastrado:\", telefoneExistente);\n                return res.status(400).json({\n                    error: \"Telefone j\\xe1 cadastrado.\"\n                });\n            }\n            // Verificando se o e-mail já existe\n            const [emailExistente] = await db.query(\"SELECT * FROM clientes WHERE email = ?\", [\n                email\n            ]);\n            if (emailExistente && emailExistente.length > 0) {\n                return res.status(400).json({\n                    error: \"E-mail j\\xe1 cadastrado.\"\n                });\n            }\n            // Verificando se o endereço já existe\n            const [enderecoExistente] = await db.query(\"SELECT * FROM clientes WHERE endereco = ?\", [\n                endereco\n            ]);\n            if (enderecoExistente && enderecoExistente.length > 0) {\n                return res.status(400).json({\n                    error: \"Endere\\xe7o j\\xe1 cadastrado.\"\n                });\n            }\n            // Inserir os dados no banco de dados\n            const [result] = await db.query(`INSERT INTO clientes (nome, telefone, email, endereco, possui_carro, data_cadastro) \r\n         VALUES (?, ?, ?, ?, ?, NOW())`, [\n                nome,\n                telefone,\n                email,\n                endereco,\n                possui_carro\n            ]);\n            res.status(201).json({\n                message: \"Cadastro realizado com sucesso!\",\n                id: result.insertId\n            });\n        } catch (error) {\n            console.error(error);\n            res.status(500).json({\n                error: \"Erro ao cadastrar usu\\xe1rio.\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            error: \"M\\xe9todo n\\xe3o permitido.\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFQyxLQUFLLEVBQUU7YUFBOEIsQ0FBQyxDQUFDO1FBQ2hFLENBQUM7SUFDSDtRQUNFWCxHQUFHLENBQUNTO1lBQW1CRSxLQUFLLEVBQUU7U0FBeUIsQ0FBQyxDQUFDO0lBQzNELENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9vbTR6ZW4vLi9wYWdlcy9hcGkvY2FkYXN0cm9UVkRFLmpzPzI0M2YiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKCcuLi8uLi9kYicpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcclxuICAgIGNvbnN0IHsgbm9tZSwgdGVsZWZvbmUsIGVtYWlsLCBlbmRlcmVjbywgcG9zc3VpX2NhcnJvIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIW5vbWUgfHwgIXRlbGVmb25lIHx8ICFlbWFpbCB8fCAhZW5kZXJlY28gfHwgcG9zc3VpX2NhcnJvID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdUb2RvcyBvcyBjYW1wb3Mgc8OjbyBvYnJpZ2F0w7NyaW9zLicgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdGVsZWZvbmVMaW1wbyA9IHRlbGVmb25lLnRyaW0oKTtcclxuXHJcbiAgICAgIC8vIFZlcmlmaWNhbmRvIHNlIG8gdGVsZWZvbmUgasOhIGV4aXN0ZVxyXG4gICAgICBjb25zdCBbdGVsZWZvbmVFeGlzdGVudGVdID0gYXdhaXQgZGIucXVlcnkoXHJcbiAgICAgICAgJ1NFTEVDVCAqIEZST00gY2xpZW50ZXMgV0hFUkUgVFJJTSh0ZWxlZm9uZSkgPSA/JyxcclxuICAgICAgICBbdGVsZWZvbmVMaW1wb11cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdUZWxlZm9uZSBubyBiYW5jbyBkZSBkYWRvczonLCB0ZWxlZm9uZUV4aXN0ZW50ZSk7IC8vIFZlcmlmaWNhciB2YWxvclxyXG5cclxuICAgICAgaWYgKHRlbGVmb25lRXhpc3RlbnRlICYmIHRlbGVmb25lRXhpc3RlbnRlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnVGVsZWZvbmUgasOhIGNhZGFzdHJhZG86JywgdGVsZWZvbmVFeGlzdGVudGUpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVGVsZWZvbmUgasOhIGNhZGFzdHJhZG8uJyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVmVyaWZpY2FuZG8gc2UgbyBlLW1haWwgasOhIGV4aXN0ZVxyXG4gICAgICBjb25zdCBbZW1haWxFeGlzdGVudGVdID0gYXdhaXQgZGIucXVlcnkoXHJcbiAgICAgICAgJ1NFTEVDVCAqIEZST00gY2xpZW50ZXMgV0hFUkUgZW1haWwgPSA/JyxcclxuICAgICAgICBbZW1haWxdXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoZW1haWxFeGlzdGVudGUgJiYgZW1haWxFeGlzdGVudGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRS1tYWlsIGrDoSBjYWRhc3RyYWRvLicgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFZlcmlmaWNhbmRvIHNlIG8gZW5kZXJlw6dvIGrDoSBleGlzdGVcclxuICAgICAgY29uc3QgW2VuZGVyZWNvRXhpc3RlbnRlXSA9IGF3YWl0IGRiLnF1ZXJ5KFxyXG4gICAgICAgICdTRUxFQ1QgKiBGUk9NIGNsaWVudGVzIFdIRVJFIGVuZGVyZWNvID0gPycsXHJcbiAgICAgICAgW2VuZGVyZWNvXVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGVuZGVyZWNvRXhpc3RlbnRlICYmIGVuZGVyZWNvRXhpc3RlbnRlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0VuZGVyZcOnbyBqw6EgY2FkYXN0cmFkby4nIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJbnNlcmlyIG9zIGRhZG9zIG5vIGJhbmNvIGRlIGRhZG9zXHJcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgZGIucXVlcnkoXHJcbiAgICAgICAgYElOU0VSVCBJTlRPIGNsaWVudGVzIChub21lLCB0ZWxlZm9uZSwgZW1haWwsIGVuZGVyZWNvLCBwb3NzdWlfY2Fycm8sIGRhdGFfY2FkYXN0cm8pIFxyXG4gICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sIE5PVygpKWAsXHJcbiAgICAgICAgW25vbWUsIHRlbGVmb25lLCBlbWFpbCwgZW5kZXJlY28sIHBvc3N1aV9jYXJyb11cclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgbWVzc2FnZTogJ0NhZGFzdHJvIHJlYWxpemFkbyBjb20gc3VjZXNzbyEnLCBpZDogcmVzdWx0Lmluc2VydElkIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvIGFvIGNhZGFzdHJhciB1c3XDoXJpby4nIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTcOpdG9kbyBuw6NvIHBlcm1pdGlkby4nIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZGIiLCJyZXF1aXJlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsIm5vbWUiLCJ0ZWxlZm9uZSIsImVtYWlsIiwiZW5kZXJlY28iLCJwb3NzdWlfY2Fycm8iLCJib2R5IiwidW5kZWZpbmVkIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwidGVsZWZvbmVMaW1wbyIsInRyaW0iLCJ0ZWxlZm9uZUV4aXN0ZW50ZSIsInF1ZXJ5IiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsImVtYWlsRXhpc3RlbnRlIiwiZW5kZXJlY29FeGlzdGVudGUiLCJyZXN1bHQiLCJtZXNzYWdlIiwiaWQiLCJpbnNlcnRJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/cadastroTVDE.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/cadastroTVDE.js"));
module.exports = __webpack_exports__;

})();